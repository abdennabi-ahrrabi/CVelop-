import{r as u,j as e,H as f,L as l,b as n}from"./app-BWfocxdu.js";import{A as p}from"./AuthenticatedLayout-BlGNKwXn.js";import"./transition-CkejyAL4.js";function w({messages:r,unreadCount:i}){const[d,o]=u.useState(null),c=t=>{confirm("Are you sure you want to delete this message?")&&(o(t.id),n.delete(route("messages.destroy",t.id),{onFinish:()=>o(null)}))},x=t=>{t.is_read||n.post(route("messages.read",t.id),{},{preserveScroll:!0})},h=t=>{const s=new Date(t),m=Math.abs(new Date-s),a=Math.floor(m/(1e3*60*60*24));return a===0?s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):a===1?"Yesterday":a<7?s.toLocaleDateString("en-US",{weekday:"short"}):s.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return e.jsxs(p,{children:[e.jsx(f,{title:"Messages"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Inbox"}),e.jsx("p",{className:"text-gray-400 mt-1",children:i>0?e.jsxs("span",{className:"text-violet-400",children:[i," unread message",i!==1?"s":""]}):"Messages from your visitors"})]})}),r.data.length===0?e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No messages yet"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"When visitors contact you through your public profile, their messages will appear here."})]}):e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 overflow-hidden divide-y divide-white/10",children:r.data.map(t=>e.jsxs("div",{className:`p-4 hover:bg-white/5 transition-all ${t.is_read?"":"bg-violet-500/5"}`,children:[e.jsx(l,{href:route("messages.show",t.id),className:"block",onClick:()=>x(t),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${t.is_read?"bg-white/10":"bg-gradient-to-br from-violet-500 to-indigo-600"}`,children:e.jsx("span",{className:"text-sm font-bold text-white",children:t.sender_name.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[e.jsx("span",{className:`font-semibold truncate ${t.is_read?"text-gray-300":"text-white"}`,children:t.sender_name}),e.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0",children:h(t.created_at)})]}),e.jsx("p",{className:`text-sm truncate ${t.is_read?"text-gray-500":"text-gray-300"}`,children:t.subject||t.message.slice(0,100)})]}),!t.is_read&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 flex-shrink-0 mt-2"})]})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 ml-14",children:[e.jsx(l,{href:route("messages.show",t.id),className:"text-xs text-gray-400 hover:text-white transition-colors",children:"View"}),e.jsx("span",{className:"text-gray-600",children:"|"}),e.jsx("a",{href:`mailto:${t.sender_email}`,className:"text-xs text-gray-400 hover:text-violet-400 transition-colors",children:"Reply via Email"}),e.jsx("span",{className:"text-gray-600",children:"|"}),e.jsx("button",{onClick:s=>{s.preventDefault(),c(t)},disabled:d===t.id,className:"text-xs text-gray-400 hover:text-red-400 transition-colors disabled:opacity-50",children:"Delete"})]})]},t.id))}),r.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center gap-2",children:r.links.map((t,s)=>e.jsx(l,{href:t.url||"#",className:`px-4 py-2 rounded-lg transition-all ${t.active?"bg-violet-600 text-white":t.url?"bg-white/10 text-gray-400 hover:bg-white/20 hover:text-white":"bg-white/5 text-gray-600 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label},preserveScroll:!0},s))}),r.data.length>0&&e.jsx("div",{className:"mt-8 rounded-2xl bg-gradient-to-br from-violet-600/20 to-indigo-600/20 border border-violet-500/20 p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-1",children:"About Contact Messages"}),e.jsx("p",{className:"text-sm text-gray-400",children:'These messages are sent by visitors through your public profile contact form. Your email address is never exposed to senders. Click "Reply via Email" to respond directly from your email client.'})]})]})})]})})]})}export{w as default};
