import{r as m,a as k,j as e,H as _,L as g,b as C}from"./app-BWfocxdu.js";import{A as L}from"./AuthenticatedLayout-BlGNKwXn.js";import"./transition-CkejyAL4.js";function S({project:s=null}){const o=!!s,d=m.useRef(null),[n,c]=m.useState(""),{data:r,setData:i,post:p,put:b,processing:h,errors:l}=k({title:s?.title||"",description:s?.description||"",url:s?.url||"",github_url:s?.github_url||"",technologies:s?.technologies||[],category:s?.category||"",start_date:s?.start_date?.split("T")[0]||"",end_date:s?.end_date?.split("T")[0]||"",is_featured:s?.is_featured||!1,is_visible:s?.is_visible??!0}),f=t=>{t.preventDefault(),o?b(route("projects.update",s.id)):p(route("projects.store"))},x=()=>{n.trim()&&!r.technologies.includes(n.trim())&&(i("technologies",[...r.technologies,n.trim()]),c(""))},j=t=>{i("technologies",r.technologies.filter(a=>a!==t))},w=t=>{t.key==="Enter"&&(t.preventDefault(),x())},v=async t=>{const a=t.target.files[0];if(!a)return;const u=new FormData;u.append("image",a);try{await C.post(route("projects.image",s.id),u,{forceFormData:!0,preserveScroll:!0})}catch(N){console.error("Upload failed:",N)}},y=["Web Application","Mobile App","API / Backend","CLI Tool","Library / Package","Design / UI","Data Science","Machine Learning","Game","Other"];return e.jsxs(L,{children:[e.jsx(_,{title:o?`Edit ${s.title}`:"Add Project"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(g,{href:route("projects.index"),className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:o?"Edit Project":"Add New Project"}),e.jsx("p",{className:"text-gray-400 mt-1",children:o?"Update your project details":"Showcase your work on your public profile"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Project Image"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-48 aspect-video bg-white/5 rounded-xl overflow-hidden flex-shrink-0",children:s.image?e.jsx("img",{src:`/storage/${s.image}`,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",ref:d,onChange:v,accept:"image/*",className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>d.current?.click(),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all",children:s.image?"Change Image":"Upload Image"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Recommended: 16:9 aspect ratio, max 5MB"})]})]})]}),e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Project Title *"}),e.jsx("input",{type:"text",value:r.title,onChange:t=>i("title",t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"My Awesome Project",required:!0}),l.title&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:t=>i("description",t.target.value),rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent resize-none",placeholder:"Describe what this project does and why it's interesting..."}),l.description&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),e.jsxs("select",{value:r.category,onChange:t=>i("category",t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a category"}),y.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})]}),e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Links"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Live URL"}),e.jsx("input",{type:"url",value:r.url,onChange:t=>i("url",t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"https://myproject.com"}),l.url&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.url})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"GitHub URL"}),e.jsx("input",{type:"url",value:r.github_url,onChange:t=>i("github_url",t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"https://github.com/username/project"}),l.github_url&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.github_url})]})]})]}),e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Technologies Used"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:n,onChange:t=>c(t.target.value),onKeyDown:w,className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"e.g., React, Node.js, PostgreSQL"}),e.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-xl transition-all",children:"Add"})]}),r.technologies.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:r.technologies.map((t,a)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-violet-500/20 text-violet-400 rounded-full",children:[t,e.jsx("button",{type:"button",onClick:()=>j(t),className:"hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},a))})]}),e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Timeline"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:r.start_date,onChange:t=>i("start_date",t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:r.end_date,onChange:t=>i("end_date",t.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Visibility"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.is_visible,onChange:t=>i("is_visible",t.target.checked),className:"w-5 h-5 rounded bg-white/5 border-white/20 text-violet-500 focus:ring-violet-500 focus:ring-offset-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Show on public profile"}),e.jsx("p",{className:"text-sm text-gray-400",children:"When enabled, this project will appear on your public profile"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.is_featured,onChange:t=>i("is_featured",t.target.checked),className:"w-5 h-5 rounded bg-white/5 border-white/20 text-violet-500 focus:ring-violet-500 focus:ring-offset-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Featured project"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Featured projects are highlighted on your profile"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:h,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 disabled:opacity-50 text-white font-semibold rounded-xl transition-all",children:h?"Saving...":o?"Update Project":"Create Project"}),e.jsx(g,{href:route("projects.index"),className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-medium rounded-xl transition-all",children:"Cancel"})]})]})]})})]})}export{S as default};
